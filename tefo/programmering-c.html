<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="no" xml:lang="no">
<head>
<!-- 2017-10-17 tir. 16:03 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Programmering i C</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Tarjei Bærland" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="../css/stylesheet.css">
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="preamble" class="status">
<!-- <div class='topnav'> -->
<!--   <ul> -->
<!--     <li><a href='/fysikk/fysikk.html'>Home</a></li> -->
<!--     <li><a href='/naturfag/naturfag.html'>Blog</a></li> -->
<!--   </ul> -->
<!-- </div> -->

<script type="text/javascript">
function toggleMe(a){
var e=document.getElementById(a);
if(!e)return true;
if(e.style.display=="none"){
e.style.display="block"
}
else{
e.style.display="none"
}
return true;
}
</script>
</div>
<div id="content">
<h1 class="title">Programmering i C</h1>


<div id="outline-container-org418e304" class="outline-2">
<h2 id="org418e304">Begynnelsen</h2>
<div class="outline-text-2" id="text-org418e304">
<div class="org-src-container">
<pre class="src src-C"><span style="color: #8e908c; font-style: italic;">/*******************************************************/</span>
<span style="color: #8e908c; font-style: italic;">/* </span><span style="color: #8e908c; font-style: italic;">Vi &#248;nsker &#229; f&#229; maskinen til &#229; skrive 'Hello world!' </span><span style="color: #8e908c; font-style: italic;">*/</span>
<span style="color: #8e908c; font-style: italic;">/*******************************************************/</span>

<span style="color: #8959a8;">#include</span> <span style="color: #3e999f;">&lt;stdio.h&gt;</span>

<span style="color: #4271ae;">int</span> <span style="color: #f5871f;">main</span>() {
  printf(<span style="color: #3e999f;">"Hello world!"</span>);
}
</pre>
</div>

<div class="org-src-container">
<pre class="src src-org">Hello world!
</pre>
</div>

<p>
Forsøk å skrive koden over inn i kompilatoren du finner på <a href="https://www.jdoodle.com/c-online-compiler">jdoodle.com</a> (slett det som står skrevet fra før av). Skriv inn alle setningene (kommentaren er ikke nødvendig) og trykk <i>Execute</i>.
</p>

<p>
Merk, i det følgende kommer vi ikke til å skrive <code>#include &lt;stdio.h&gt;</code> i alle eksemplene, ei heller pakke koden inn i en <code>main</code>-blokk.
</p>

<p>
Koden over kommer vi da til å skrive som følger:
</p>

<div class="org-src-container">
<pre class="src src-C">printf(<span style="color: #3e999f;">"Hello world!"</span>);
</pre>
</div>
</div>

<div id="outline-container-org5ce047e" class="outline-3">
<h3 id="org5ce047e">Kommentarer</h3>
<div class="outline-text-3" id="text-org5ce047e">
<p>
Når du skal <i>kommentere</i> kode i C, for eksempel når du skal fortelle hva en funksjon gjør, skriver du dette mellom <code>/*</code> og <code>*/</code>. Maskinen ser da bort fra dette når den skal kjøre programmet ditt.
</p>
</div>
</div>

<div id="outline-container-org2cb813e" class="outline-3">
<h3 id="org2cb813e">Preprosessor</h3>
<div class="outline-text-3" id="text-org2cb813e">
<p>
C er et språk som kommer uten batterier inkludert &#x2026; i det aller minste uten batterier satt inn. På linja <code>#include &lt;stdio.h&gt;</code> forteller vi at vi ønsker å ha muligheten for å gi eller få skrevet ut data til og fra programmet vårt. Uten denne linja får vi her ikke tilgang til <code>printf</code>-funksjonen.
</p>

<p>
I oppgaven <a href="#orgbd73f83">Løsning av andregradslikninger</a> skal du eksempelvis bruke et annet bibliotek.
</p>
</div>
</div>

<div id="outline-container-org231c0d3" class="outline-3">
<h3 id="org231c0d3"><code>main</code>-funksjonen</h3>
<div class="outline-text-3" id="text-org231c0d3">
<p>
Tilnærmet ethvert C-program har en <code>main</code> funksjon hvor vi samler all koden som kjøres i løpet av programmet.
</p>
</div>
</div>
</div>

<div id="outline-container-org944727d" class="outline-2">
<h2 id="org944727d">Konstanter og variabler</h2>
<div class="outline-text-2" id="text-org944727d">
<p>
For å opprette en <i>konstant</i> verdi i C, altså en verdi som ikke kan endres gjennom kjøringen av programmet,  bruker vi <i>nøkkelordet</i> <code>const</code>. 
</p>

<p>
Ønsker vi for eksempel å lage <i>konstanten</i> &pi;, kan det gjøres som følger:
</p>

<div class="org-src-container">
<pre class="src src-C"><span style="color: #718c00;">const</span> <span style="color: #4271ae;">float</span> <span style="color: #eab700;">pi</span> = 3.14;
</pre>
</div>

<p>
Her har vi disse elementene:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Symbol</th>
<th scope="col" class="org-left">Type</th>
<th scope="col" class="org-left">Effekt</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>const</code></td>
<td class="org-left">nøkkelord</td>
<td class="org-left">det som følger på linjen skal være en konstant</td>
</tr>

<tr>
<td class="org-left"><code>float</code></td>
<td class="org-left">nøkkelord</td>
<td class="org-left">konstanten skal være et desimaltall (se <a href="#org708e82b">Tall og typer</a>)</td>
</tr>

<tr>
<td class="org-left"><code>pi</code></td>
<td class="org-left">navn</td>
<td class="org-left">navnet til konstanten</td>
</tr>

<tr>
<td class="org-left"><code>=</code></td>
<td class="org-left">-</td>
<td class="org-left">gir konstanten verdi</td>
</tr>

<tr>
<td class="org-left"><code>3.14</code></td>
<td class="org-left">verdi</td>
<td class="org-left">verdien konstanten skal ha, kan ikke endres</td>
</tr>

<tr>
<td class="org-left"><code>;</code></td>
<td class="org-left">-</td>
<td class="org-left">avslutter setningen</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-C"><span style="color: #718c00;">const</span> <span style="color: #4271ae;">float</span> <span style="color: #eab700;">pi</span> = 3.14;
pi = 3.5;
</pre>
</div>

<p>
Gir følgende:
</p>

<div class="org-src-container">
<pre class="src src-org">~/filename.c: In function 'main':
~filename.c: error: assignment of read-only variable 'pi'
 pi = 3.5;
</pre>
</div>

<p>
Vi har altså ikke mulighet til å endre en verdi satt til å være konstant.
</p>
</div>
</div>

<div id="outline-container-org708e82b" class="outline-2">
<h2 id="org708e82b">Tall og typer</h2>
<div class="outline-text-2" id="text-org708e82b">
<p>
Når vi programmerer, er det ofte viktig å skille mellom spesielt <i>desimaltall</i>, <i>heltall</i> og <i>tekst</i>.
</p>

<p>
Vi definerer desimaltall<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup> som:
</p>
<div class="org-src-container">
<pre class="src src-C"><span style="color: #4271ae;">float</span> <span style="color: #eab700;">pi</span> = 3.14;
<span style="color: #4271ae;">float</span> <span style="color: #eab700;">c</span> = 3.00E8;
</pre>
</div>

<p>
Legg merke til at vi nå ikke har satt at disse må være <i>konstante</i> verdier, så det er nå ikke noe i veien for seinere i programmet å gjøre følgende:
</p>
<div class="org-src-container">
<pre class="src src-C"><span style="color: #4271ae;">float</span> <span style="color: #eab700;">pi</span> = 4.0;
</pre>
</div>

<p>
Vi definerer heltall som:
</p>
<div class="org-src-container">
<pre class="src src-C"><span style="color: #4271ae;">int</span> <span style="color: #eab700;">n</span> = 5;
</pre>
</div>

<p>
Vi definerer tekststrenger<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup> som:
</p>
<div class="org-src-container">
<pre class="src src-C"><span style="color: #4271ae;">char</span> <span style="color: #eab700;">navn</span>[] = <span style="color: #3e999f;">"Dagros"</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org713e445" class="outline-2">
<h2 id="org713e445">Inn- og utdata</h2>
<div class="outline-text-2" id="text-org713e445">
<p>
Vi er ofte interessert i å kunne få verdier programmet vårt har regnet ut skrevet på skjermen eller å kunne gi programmet nye data å regne med.
</p>
</div>
<div id="outline-container-orga1288ec" class="outline-3">
<h3 id="orga1288ec">Formatering av strenger</h3>
<div class="outline-text-3" id="text-orga1288ec">
<div class="org-src-container">
<pre class="src src-C"><span style="color: #8959a8;">#include</span> <span style="color: #3e999f;">&lt;stdio.h&gt;</span>

<span style="color: #4271ae;">int</span> <span style="color: #eab700;">heltall</span> = 5;
<span style="color: #4271ae;">float</span> <span style="color: #eab700;">desimaltall</span> = 5.5;
<span style="color: #4271ae;">char</span> <span style="color: #eab700;">tekststreng</span>[] = <span style="color: #3e999f;">"Noe &#229; skrive ut"</span>;

<span style="color: #4271ae;">int</span> <span style="color: #f5871f;">main</span>() {
  printf(<span style="color: #3e999f;">"Heltallet er: %d\n"</span>, heltall);
  printf(<span style="color: #3e999f;">"Desimaltallet er: %f\n"</span>, desimaltall);
  printf(<span style="color: #3e999f;">"Tekstrengen er: %s\n"</span>, tekststreng);
}
</pre>
</div>

<p>
Vi har blant andre følgende former for formateringsspesifkasjoner:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Tegn</th>
<th scope="col" class="org-left">Brukes til</th>
<th scope="col" class="org-left">Eksempel</th>
<th scope="col" class="org-left">Resultat</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>%d</code></td>
<td class="org-left">Heltall</td>
<td class="org-left"><code>printf("Tallet er %d", 4);</code></td>
<td class="org-left"><code>Tallet er 4</code></td>
</tr>

<tr>
<td class="org-left"><code>%f</code></td>
<td class="org-left">Desimaltall</td>
<td class="org-left"><code>printf("Tallet er %f", 3.5);</code></td>
<td class="org-left"><code>Tallet er 3.500000</code></td>
</tr>

<tr>
<td class="org-left"><code>%s</code></td>
<td class="org-left">Tekststreng</td>
<td class="org-left"><code>printf("Strengen er %s", "en streng")</code></td>
<td class="org-left"><code>Strengen er en streng</code></td>
</tr>

<tr>
<td class="org-left"><code>%e</code></td>
<td class="org-left">Tall på standardform</td>
<td class="org-left"><code>printf("Lysfarten er %e", 3E8);</code></td>
<td class="org-left"><code>Lysfarten er 3.000000e+008</code></td>
</tr>
</tbody>
</table>


<p>
Vi har også noen tilleggstegn:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Tegn</th>
<th scope="col" class="org-left">Effekt</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>\n</code></td>
<td class="org-left">linjeskift</td>
</tr>

<tr>
<td class="org-left"><code>\"</code></td>
<td class="org-left">dobbelt anførselstegn uten at det avslutter tekststrengen</td>
</tr>

<tr>
<td class="org-left"><code>\'</code></td>
<td class="org-left">enkelt anførselstegn uten at det avslutter tekststrengen</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-orgd064e08" class="outline-4">
<h4 id="orgd064e08">Justering av antall desimaler</h4>
<div class="outline-text-4" id="text-orgd064e08">
<p>
Spesielt når vi formaterer tall via <code>%f</code>, ønsker vi å spesifisere hvor mange desimaler tallet skal vises med. Dette kan vi gjøre ved å skrive for eksempel <code>%3.2f</code>. Her spesifiserer vi at vi ønsker at tallet skal være 3 siffer langt totalt, med to siffer etter komma.
</p>

<div class="org-src-container">
<pre class="src src-C">printf(<span style="color: #3e999f;">"I oslo er tyngdeakselerasjonen p&#229; %3.2f m/s^2."</span>, 9.819);
</pre>
</div>

<div class="org-src-container">
<pre class="src src-org">I oslo er tyngdeakselerasjonen p&#229; 9.82 m/s^2.
</pre>
</div>

<p>
Legg merke til at tallet da også blir avrundet for oss.
</p>
</div>
</div>
</div>

<div id="outline-container-org2b6545d" class="outline-3">
<h3 id="org2b6545d">La brukeren taste inn data - avansert</h3>
<div class="outline-text-3" id="text-org2b6545d">
<p>
Vi har ofte lyst til å hente data fra brukeren av programmet vårt. For eksempel kan programmet be om to tall som skal ganges sammen eller vi må la brukeren bestemme hva det neste programmet skal gjøre er.
</p>

<p>
Der vi bruker <code>printf</code> for å få programmet til å skrive ut verdier til oss, kan vi bruke <code>scanf</code> for å hente verdier fra brukeren.
</p>

<div class="org-src-container">
<pre class="src src-C"><span style="color: #4271ae;">int</span> <span style="color: #eab700;">tall</span>;
printf(<span style="color: #3e999f;">"Skriv inn et tall og trykk Enter: "</span>);
scanf(<span style="color: #3e999f;">"%d"</span>, &amp;tall);                <span style="color: #8e908c; font-style: italic;">/* </span><span style="color: #8e908c; font-style: italic;">&amp;-tegnet er viktig </span><span style="color: #8e908c; font-style: italic;">*/</span>
printf(<span style="color: #3e999f;">"\nDu skreiv inn tallet %d."</span>, tall);
</pre>
</div>

<p>
<b>Merk</b> dette fungerer ikke om du kjører C-programmet ditt via <a href="https://jdoodle.com/">jdoodle.com</a>.
</p>
</div>
</div>
</div>
<div id="outline-container-org6fe8eab" class="outline-2">
<h2 id="org6fe8eab">Funksjoner</h2>
<div class="outline-text-2" id="text-org6fe8eab">
</div>
<div id="outline-container-orgf0bf4d6" class="outline-3">
<h3 id="orgf0bf4d6">Definere</h3>
<div class="outline-text-3" id="text-orgf0bf4d6">
<p>
Vi ønsker nå å lage oss en <i>funksjon</i><sup><a id="fnr.3" class="footref" href="#fn.3">3</a></sup> som tar inn en radius og returnerer en sirkels areal.
</p>

<div class="org-src-container">
<pre class="src src-C"><span style="color: #4271ae;">float</span> <span style="color: #eab700;">pi</span> = 3.14;

<span style="color: #8e908c; font-style: italic;">/* </span><span style="color: #8e908c; font-style: italic;">En funksjon som returnerer arealet av en sirkel </span><span style="color: #8e908c; font-style: italic;">*/</span>
<span style="color: #4271ae;">float</span> <span style="color: #f5871f;">Areal</span>(<span style="color: #4271ae;">float</span> <span style="color: #eab700;">radius</span>) {
  <span style="color: #718c00;">return</span> pi * radius * radius;
}
</pre>
</div>


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Symbol</th>
<th scope="col" class="org-left">Type</th>
<th scope="col" class="org-left">Effekt</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>float</code></td>
<td class="org-left">nøkkelord</td>
<td class="org-left">forteller at funksjonen skal <i>returnere</i> et desimaltall</td>
</tr>

<tr>
<td class="org-left"><code>area</code></td>
<td class="org-left">navn</td>
<td class="org-left">setter navn på funksjonen</td>
</tr>

<tr>
<td class="org-left"><code>()</code></td>
<td class="org-left">tegn</td>
<td class="org-left">viser at dette er en funksjon og inneholder eventuelle <i>parametere</i></td>
</tr>

<tr>
<td class="org-left"><code>float radius</code></td>
<td class="org-left">parameter</td>
<td class="org-left">forteller at funksjonen tar inn én parameter, og at denne er et desimaltall</td>
</tr>

<tr>
<td class="org-left"><code>{}</code></td>
<td class="org-left">tegn</td>
<td class="org-left">angir «kroppen» til funksjonen</td>
</tr>

<tr>
<td class="org-left"><code>return</code></td>
<td class="org-left">nøkkelord</td>
<td class="org-left">forteller at det følgende er det funksjonen skal <i>returnere</i></td>
</tr>

<tr>
<td class="org-left"><code>;</code></td>
<td class="org-left">tegn</td>
<td class="org-left">avslutter retursetningen</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-org837595d" class="outline-4">
<h4 id="org837595d">I «mattespråk»</h4>
<div class="outline-text-4" id="text-org837595d">
<p>
Vi er vant til å skrive funksjonen over som
\(A(r) = \pi r^2\).
</p>

<p>
Her kan vi si at \(A\) er navnet til funksjonen, den tar inn parameteren \(r\) og returnerer \(\pi r^2\).
</p>

<p>
Her, og i en del programmeringsspråk, trenger vi ikke fortelle funksjonen hva slags tall \(A\) og \(r\) er, hvorvidt disse er heltall, brøker eller desimaltall. Det må vi altså gjøre i C.
</p>
</div>
</div>
</div>

<div id="outline-container-org16a801d" class="outline-3">
<h3 id="org16a801d">Kalle funksjonen</h3>
<div class="outline-text-3" id="text-org16a801d">
<p>
Når vi nå ønsker å <i>kalle</i> denne funksjonen fra programmet vårt, gjør vi dette ved å skrive funksjonsnavnet og oppgi parameteren vi vil sende til funksjonen.
</p>

<div class="org-src-container">
<pre class="src src-C"><span style="color: #718c00;">const</span> <span style="color: #4271ae;">float</span> <span style="color: #eab700;">pi</span> = 3.14;

<span style="color: #4271ae;">float</span> <span style="color: #f5871f;">Areal</span>(<span style="color: #4271ae;">float</span> <span style="color: #eab700;">radius</span>) {
  <span style="color: #718c00;">return</span> pi * radius * radius;
}

<span style="color: #8e908c; font-style: italic;">/* </span><span style="color: #8e908c; font-style: italic;">the area of a circle with radius 2.5 </span><span style="color: #8e908c; font-style: italic;">*/</span>
<span style="color: #4271ae;">float</span> <span style="color: #eab700;">beregnet_areal</span> = Areal(2.5);

printf(<span style="color: #3e999f;">"Det beregnede arealet er %.2f."</span>, beregnet_areal);
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf824344" class="outline-2">
<h2 id="orgf824344">Kontrollstrukturer</h2>
<div class="outline-text-2" id="text-orgf824344">
</div>
<div id="outline-container-org560e68c" class="outline-3">
<h3 id="org560e68c">Logiske tester</h3>
<div class="outline-text-3" id="text-org560e68c">
<p>
I C har vi følgende måter å sammenligne to verdier:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Tegn</th>
<th scope="col" class="org-left">Eksempel</th>
<th scope="col" class="org-left">Returnerer <code>True</code> hvis</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>==</code></td>
<td class="org-left"><code>a==3.0</code></td>
<td class="org-left">om to verdier er like</td>
</tr>

<tr>
<td class="org-left"><code>!=</code></td>
<td class="org-left"><code>i != 4</code></td>
<td class="org-left">om to verdier <i>ikke</i> er like</td>
</tr>

<tr>
<td class="org-left"><code>&lt;</code></td>
<td class="org-left"><code>h &lt; height</code></td>
<td class="org-left">om verdien til venstre er mindre enn verdien til høyre</td>
</tr>

<tr>
<td class="org-left"><code>&gt;</code></td>
<td class="org-left"><code>h &gt; height</code></td>
<td class="org-left">om verdien til venstre er større en verdien til høyre</td>
</tr>

<tr>
<td class="org-left"><code>&lt;=</code></td>
<td class="org-left"><code>n &lt;= 15</code></td>
<td class="org-left">om verdien til venstre er mindre <i>eller lik</i> verdien til høyre</td>
</tr>

<tr>
<td class="org-left"><code>&gt;=</code></td>
<td class="org-left"><code>n &gt;= 19</code></td>
<td class="org-left">om verdien til venstre er større <i>eller lik</i> verdien til høyre</td>
</tr>
</tbody>
</table>

<p>
Ulike logiske tester kan også settes sammen ved hjelp av logiske operatorer. Eksempel her kan være om du ønsker å gjøre noe dersom det er søndag eller det er mer enn fire dager siden sist du gjorde det, til dømes å ringe hjem.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Operator</th>
<th scope="col" class="org-left">Eksempel</th>
<th scope="col" class="org-left">Uttales</th>
<th scope="col" class="org-left">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>&amp;&amp;</code></td>
<td class="org-left"><code>True &amp;&amp; False</code> gir <code>False</code></td>
<td class="org-left">«and» eller «og»</td>
<td class="org-left">Returnerer kun <code>True</code> dersom både venstre og høyre side er <code>True</code></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&vert;&vert;</td>
<td class="org-left"><code>True</code> &vert;&vert;  <code>False</code> gir <code>True</code></td>
<td class="org-left">«or» eller «eller»</td>
<td class="org-left">Returnerer <code>True</code> dersom venstre <i>eller</i> høyre side er <code>True</code></td>
</tr>

<tr>
<td class="org-left"><code>!</code></td>
<td class="org-left"><code>!True</code> gir <code>False</code></td>
<td class="org-left">«not» eller «ikke»</td>
<td class="org-left">Returner <code>False</code> hvis <code>True</code> inn og motsatt</td>
</tr>

<tr>
<td class="org-left"><code>()</code></td>
<td class="org-left">((5 &gt; 2) eller !(a == 3)</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Brukes til å gruppere logiske tester</td>
</tr>
</tbody>
</table>

<p>
Merk spesielt forskjellen mellom <code>==</code> og <code>=</code>. Det er en svært typisk feil i C-programmer at man blander disse to.
</p>
</div>
</div>

<div id="outline-container-orgd87c1ed" class="outline-3">
<h3 id="orgd87c1ed">if-blokk</h3>
<div class="outline-text-3" id="text-orgd87c1ed">
<p>
Collatz' formodning sier at for et hvilket som helst positivt heltall, dersom det er et partall, deler du det på to; dersom det er et oddetall, ganger du med tre og legger til én. Om du velger tallet 7, får du for eksempel da \(7\cdot 3 + 1 = 22\).
</p>

<p>
Hvordan ville du ha programmert en funksjon som skal ta inn et positivt heltall <code>n</code> og returne det neste tallet i Collatz' formodning?
</p>

<p>
Du ser at du trenger en måte å hvorvidt et tall er partall eller oddetall, for så å gjøre noe avhengig av tallet. Dette kan vi gjøre via en <i>if</i>-blokk.
</p>

<p>
I C har en if-blokk følgende struktur:
</p>

<div class="org-src-container">
<pre class="src src-C"><span style="color: #718c00;">if</span> (logisk_test) {
  <span style="color: #8e908c; font-style: italic;">/* </span><span style="color: #8e908c; font-style: italic;">det du &#248;nsker &#229; gj&#248;re dersom den logiske testen er sann </span><span style="color: #8e908c; font-style: italic;">*/</span>
}
</pre>
</div>


<div class="org-src-container">
<pre class="src src-C"><span style="color: #8959a8;">#include</span> <span style="color: #3e999f;">&lt;stdio.h&gt;</span>

<span style="color: #4271ae;">int</span> <span style="color: #f5871f;">Collatz</span> (<span style="color: #4271ae;">int</span> <span style="color: #eab700;">n</span>) {
  <span style="color: #718c00;">if</span> (n % 2 == 0) {
    <span style="color: #718c00;">return</span> n / 2;
  }
  <span style="color: #718c00;">else</span> {
    <span style="color: #718c00;">return</span> 3*n + 1;
  }
}

<span style="color: #4271ae;">int</span> <span style="color: #f5871f;">main</span>() {
  printf(<span style="color: #3e999f;">"Om du bruker tallet %d, vil det neste tallet i Collatz-rekken v&#230;re %d."</span>,
         5, Collatz(5));
 }
</pre>
</div>

<div class="org-src-container">
<pre class="src src-org">Om du bruker tallet 5, vil det neste tallet i Collatz-rekken v&#230;re 16.
</pre>
</div>


<p>
Merk, her ser dere at vi også har brukt strukturen <code>else</code>, denne gjennomføres kun om den øvrige <code>if</code>-setningen ikke kjøres.
</p>
</div>

<div id="outline-container-org1a5a1c9" class="outline-4">
<h4 id="org1a5a1c9">Tillegg: <code>if-else</code></h4>
<div class="outline-text-4" id="text-org1a5a1c9">
<p>
Om du vil ha flere <code>if</code>-tester hvor kun én kjøres, kan du bruke <code>else if</code>. Strukturen ser da ut som følger:
</p>

<div class="org-src-container">
<pre class="src src-C"><span style="color: #718c00;">if</span> (logisk-test-1) {
  <span style="color: #8e908c; font-style: italic;">/* </span><span style="color: #8e908c; font-style: italic;">kj&#248;res hvis logisk-test-1 er ~True~ </span><span style="color: #8e908c; font-style: italic;">*/</span>
}
<span style="color: #718c00;">else</span> <span style="color: #718c00;">if</span> (logisk-test-2) {
  <span style="color: #8e908c; font-style: italic;">/* </span><span style="color: #8e908c; font-style: italic;">kj&#248;res hvis logisk-test-2 er ~True~ og</span>
<span style="color: #8e908c; font-style: italic;">logiske-test-1 ikke er ~True~</span><span style="color: #8e908c; font-style: italic;">*/</span>
}
<span style="color: #718c00;">else</span> {
  <span style="color: #8e908c; font-style: italic;">/* </span><span style="color: #8e908c; font-style: italic;">kj&#248;res hvis hverken logisk-test-1 eller logisk-test-2</span>
<span style="color: #8e908c; font-style: italic;">er ~True~</span><span style="color: #8e908c; font-style: italic;">*/</span>
}
</pre>
</div>

<p>
Hvorfor kan vi ikke her bare bruke flere <code>if</code>-setninger etter hverandre?
</p>
</div>
</div>
</div>
<div id="outline-container-orgfb43e9f" class="outline-3">
<h3 id="orgfb43e9f">for-løkke</h3>
<div class="outline-text-3" id="text-orgfb43e9f">
<p>
I de fleste tilfeller ønsker vi å gjenta oss selv så lite som mulig. Dess flere ganger vi skriver nesten det samme i et program, jo lettere er det at det sniker seg inn feil &#x2026; og jo kjedeligere blir det.
</p>

<p>
Om vi skal skrive et program som finner summen av alle tall fra 1 til 100, kan det gjøres med rå muskelkraft som
</p>

<div class="org-src-container">
<pre class="src src-C"><span style="color: #8959a8;">#include</span> <span style="color: #3e999f;">&lt;stdio.h&gt;</span>
<span style="color: #4271ae;">int</span> <span style="color: #eab700;">sum</span>;

<span style="color: #4271ae;">int</span> <span style="color: #f5871f;">main</span>() {
  sum = 1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 + 9 + 10 +
    11 + 12 + 13 + 14 + 15 + 16 + 17 + 18 + 19 + 20 +
    21 + 22 + 23 + 24 + 25 + 26 + 27 + 28 + 29 + 30 +
    31 + 32 + 33 + 34 + 35 + 36 + 37 + 38 + 39 + 40 +
    41 + 42 + 43 + 44 + 45 + 46 + 47 + 48 + 49 + 50 +
    51 + 52 + 53 + 54 + 55 + 56 + 57 + 58 + 59 + 60 +
    61 + 62 + 63 + 64 + 65 + 66 + 67 + 68 + 69 + 70 +
    71 + 72 + 73 + 74 + 75 + 76 + 77 + 78 + 79 + 80 +
    81 + 82 + 83 + 84 + 85 + 86 + 87 + 88 + 89 + 90 +
    91 + 92 + 93 + 94 + 95 + 96 + 97 + 98 + 99 + 100;

 printf(<span style="color: #3e999f;">"Summen av alle tallene fra 1 til 100 er %d."</span>, sum);

}
</pre>
</div>

<div class="org-src-container">
<pre class="src src-org">Summen av alle tallene fra 1 til 100 er 5050.
</pre>
</div>

<p>
Vi ser dog her at vi gjør mer eller mindre det samme stykket hundre ganger. Dette kan vi forenkle.
</p>

<div class="org-src-container">
<pre class="src src-C"><span style="color: #8959a8;">#include</span> <span style="color: #3e999f;">&lt;stdio.h&gt;</span>

<span style="color: #4271ae;">int</span> <span style="color: #eab700;">sum</span>;

<span style="color: #4271ae;">int</span> <span style="color: #f5871f;">main</span>() {
  <span style="color: #718c00;">for</span> (<span style="color: #4271ae;">int</span> <span style="color: #eab700;">i</span> = 1; i &lt;=100; ++i) {
    sum += i;
  }
  printf(<span style="color: #3e999f;">"Summene av alle tallene fra 1 til 100 er %d."</span>, sum);
}
</pre>
</div>

<div class="org-src-container">
<pre class="src src-org">Summene av alle tallene fra 1 til 100 er 5050.
</pre>
</div>
</div>

<div id="outline-container-orgd82f41f" class="outline-4">
<h4 id="orgd82f41f">Tillegg for matemematikerne</h4>
<div class="outline-text-4" id="text-orgd82f41f">
<p>
Og så sier matematikeren: «Og hvorfor bruker dere ikke at summen av alle tallene fra 1 til <i>n</i> er følgende?
</p>

<p>
\(S = \frac{(n+1)n}{2}\)
</p>

<p>
Vel &#x2026; fordi.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org498ccd6" class="outline-2">
<h2 id="org498ccd6">Oppgaver</h2>
<div class="outline-text-2" id="text-org498ccd6">
</div>
<div id="outline-container-org9dc91c8" class="outline-3">
<h3 id="org9dc91c8">Omkrekts (funksjoner)</h3>
<div class="outline-text-3" id="text-org9dc91c8">
<p>
Lag en funksjon <code>circumfrence</code> som regner ut omkretsen av en sirkel avhengig av radiusen <code>r</code>.
</p>
</div>
</div>

<div id="outline-container-org0162926" class="outline-3">
<h3 id="org0162926">Konvertering fra grader farhenheit til celsius (funksjoner, formatering og for-løkker)</h3>
<div class="outline-text-3" id="text-org0162926">
<p>
Hvis \(T_C\) er en temperatur målt i grader celsius, og \(T_F\) er den samme temperaturen målt i grader fahrenheit, kan gå fra grader celsius til farhenheit ved å bruke at
</p>

<p>
\(T_F = 1,8\cdot T_C + 32\).
</p>

<p>
Lag et program som gjør følgende:
</p>
<ul class="org-ul">
<li>Skriver ut en overskrift</li>
<li>Skriver ut to kolonner med tall</li>
<li>Den første kolonnen viser temperatur i grader celsius</li>
<li>Den andre kolonnen viser temperatur i grader fahrenhet</li>
<li>Konverter tallene fra -30 °C til 100 °C med intervaller på 10 °C.</li>
</ul>

<p>
Overskriften formateres som:
</p>
<div class="org-src-container">
<pre class="src src-org">Temp. grader C    Temp. grader F
--------------------------------
</pre>
</div>
</div>
</div>

<div id="outline-container-org0a60f0d" class="outline-3">
<h3 id="org0a60f0d">Summen av alle tall fra 1 til 100 som er delelig på 3 (for-løkker, if-setninger)</h3>
<div class="outline-text-3" id="text-org0a60f0d">
<p>
Skriv et program som regner ut summen av alle tall som er delelig på 3 fra og med 1, til og med 100.
</p>
</div>
</div>

<div id="outline-container-orgbd73f83" class="outline-3">
<h3 id="orgbd73f83">Løsning av andregradslikninger (funksjoner, formatering og kvadratrøtter)</h3>
<div class="outline-text-3" id="text-orgbd73f83">
<p>
I <code>math</code>-biblioteket får vi tilgang til flere nyttige funksjoner, for eksempel finner vi kvadratrotfunksjonen, <code>sqrt</code>, der.
</p>

<div class="org-src-container">
<pre class="src src-C"><span style="color: #8959a8;">#include</span> <span style="color: #3e999f;">&lt;math.h&gt;</span>
printf(<span style="color: #3e999f;">"Kvadratroten av %2.1f er %.2f.\n"</span>, 4.0, sqrt(4.0) );
printf(<span style="color: #3e999f;">"Kvadratroten av %2.1f er %.2f.\n"</span>, 5.0, sqrt(5.0) );
</pre>
</div>

<div class="org-src-container">
<pre class="src src-org">Kvadratroten av 4.0 er 2.00.
Kvadratroten av 5.0 er 2.24.
</pre>
</div>

<p>
Lag en funksjon <code>AbcLoeser</code> som tar inn heltallene <code>a</code>, <code>b</code> og <code>c</code>, og skriver ut <code>x</code>-verdiene til eventuelle løsninger.
</p>

<p>
Bruken skal være som følger:
</p>

<div class="org-src-container">
<pre class="src src-C">AbcLoeser(2, -4, 2);
AbcLoeser(1, 1, 1);
AbcLoeser(3, 1, -2);
</pre>
</div>

<div class="org-src-container">
<pre class="src src-org">Likningen har &#233;n l&#248;sning, x = 0.00.
Likningen har ingen l&#248;sning.
Likningen har to l&#248;sninger, x = 0.67 and x = -1.00.
</pre>
</div>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes" hidden>Fotnoter</h2>
<hr>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">
Når vi skal skrive desimaltall inn i et program, kaller vi de ofte <i>flyttall</i> eller <i>float</i>.
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara">
I en datamaskin vil en serie med bokstaver (en <i>streng</i>) representeres som en og en bokstav i arbeidsminnet til maskinen.
</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3">3</a></sup> <div class="footpara"><p class="footpara">
I programmering er funksjoner gjenbrukbar kode som kan ta inn <i>parametere</i> for å returnere noe til der den blei kalt fra.
</p></div></div>


</div>
</div></div>
</body>
</html>
